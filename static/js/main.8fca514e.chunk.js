(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(71),i=n.n(r),l=(n(83),n(2)),c=n(3),s=n(5),p=n(4),u=n(6),d=n(166),f=n(167),m={display:"flex",width:"100vw",flexDirection:"column",alignItems:"center"},y={width:"100vw",height:"100vh"},h={userSelect:"none",boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px",borderRadius:"2px",cursor:"pointer",backgroundColor:"rgb(255, 255, 255)",display:"flex",alignItems:"center",justifyContent:"center",border:"0px",margin:"0px",padding:"0px",position:"absolute",overflow:"hidden",width:"40px",height:"40px",top:"80px",right:"10px",zIndex:99},g={position:"absolute",display:"flex",bottom:10,width:"50vw",height:"10vh"},b={margin:10,flexGrow:1},w=function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(e):alert("Geolocation is not supported by this browser.")},v=function(e){var t=[];return e.forEach(function(e){var n={coord:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},label:e.label,place_type:e.place_type,verified:e.verified};t.push(n)}),t},_=n(72),k=function(e,t,n){return Object(_.searchArrayTable)(t,{type:"exact",value:e})[0][n]},j=[{type_name:"T.Ibadah",id:"ti"},{type_name:"Fotocopy",id:"fc"},{type_name:"SPBU",id:"pom"}],O=n(73),x=n.n(O),T=n(76),E=n(53),C=n.n(E);n(158);C.a.initializeApp({apiKey:"AIzaSyCepJRbpewyq6dcSXvtzZ7Qrt9P8xh7iQA",authDomain:"my-projectexampl-1522415387697.firebaseapp.com",databaseURL:"https://my-projectexampl-1522415387697.firebaseio.com",projectId:"my-projectexampl-1522415387697",storageBucket:"",messagingSenderId:"752446478250",appId:"1:752446478250:web:e504bce6f9b8f0fd"});var I,A,S=C.a.database().ref().child("places"),M=function(e,t,n){return S.orderByChild("place_type").equalTo(t).once("value",function(t){var a=[];t.forEach(function(e){a.push(Object(T.a)({id:e.key},e.val()))}),e(a),n()})},P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1},n.loading_done=function(){n.setState({loading:!1})},n.get_place_data=function(e,t){n.setState({loading:!0}),M(e,t,n.loading_done)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.callback,n=this.state.loading;return o.a.createElement("div",{style:g},j.map(function(a){return o.a.createElement("button",{style:b,disabled:n,key:a.id,onClick:function(){return e.get_place_data(t,a.id)}},a.type_name)}))}}]),t}(a.Component),L=n(74),W=n.n(L),z=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.action;return o.a.createElement("button",{onClick:e,style:h},o.a.createElement("img",{src:W.a,style:{height:"18px",width:"18px"},alt:""}))}}]),t}(a.Component),R=function(e,t,n,a,o){return'<div style="width:40vh;display:flex;flex-direction:column;"><h2>'+e+"</h2><br/><small>"+t+"</small><b>"+n+'</b><i>kami menyarankan untuk pengguna untuk memilih tempat yang terpercaya</i><button onclick="proses({lat:'+a.lat+",lng:"+a.lng+"},{lat:"+o.lat+",lng:"+o.lng+'} );">arah</button></div>'},B=function(e){return{center:e,zoom:16,mapTypeControl:!1,fullscreenControl:!1,scaleControl:!1,streetViewControl:!1,styles:D,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_CENTER}}},D=[{elementType:"geometry",stylers:[{color:"#f2f2f2"}]},{elementType:"labels.text.stroke",stylers:[{color:"#fff"}]},{elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#e6e6e6"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#bfbfbf"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#d9d9d9"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#737373"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#b3e6ff"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#0077b3"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#0099e6"}]}],U=!0,F={lat:-6.275113,lng:107.062839},G=0,J=[],N=[],Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={user_loc:null,places:[]},n.load_places_data=function(e){n.load_place(v(e))},n.set_position=function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};n.setState({user_loc:U?F:t}),window.setTimeout(function(){n.load_map(n.state.user_loc)},1e3)},n.load_map=function(e){window.map=new window.google.maps.Map(document.getElementById("map"),B(e)),n.set_user_marker_position(e)},n.set_user_marker_position=function(e){new window.google.maps.Marker({position:e,map:window.map,title:"Lokasi Anda",icon:x.a})},n.load_place=function(e){G=0,J=[],N.length>0&&n.clear_place_marker(),e.map(function(e,t){return n.add_place_marker(e,140*t)})},n.add_place_marker=function(e,t){window.setTimeout(function(){var t=new window.google.maps.Marker({position:e.coord,map:window.map,title:e.label,animation:window.google.maps.Animation.DROP});n.set_infowindow_content(t,e.label,e.place_type,e.verified),N.push(t)},t)},n.set_infowindow_content=function(e,t,a,o){J.push(e.getPosition());var r=k(a,j,"type_name"),i=0===parseInt(o)?"Untrusted":"Trusted",l=R(t,r,i,F,n.get_marker_position(G)),c=new window.google.maps.InfoWindow({content:l,maxWidth:1e3});e.addListener("click",function(){A&&I.setMap(null),c.open(e.get("map"),e),I=c,A=!0}),G+=1},n.get_marker_position=function(e){return{lat:J[e].lat(),lng:J[e].lng()}},n.clear_place_marker=function(){N.map(function(e){return e.setMap(null)}),N=[]},n.set_map_center=function(){window.map.setCenter(n.state.user_loc)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){w(this.set_position)}},{key:"render",value:function(){return o.a.createElement("div",{style:m},o.a.createElement("div",{style:y,id:"map"}),o.a.createElement(z,{action:this.set_map_center}),o.a.createElement(P,{callback:this.load_places_data}))}}]),t}(a.Component),q=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#eee",color:"#555",display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("h1",null,"Login"))}}]),t}(a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#eee",color:"#555",display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("h1",null,"Home"))}}]),t}(a.Component),X=null,K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={user_loc:null,selected_loc:F},n.set_position=function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};n.setState({user_loc:t}),window.map=new window.google.maps.Map(document.getElementById("map"),B(t)),window.map.addListener("click",function(e){null!=X&&n.clearMarker(),X=new window.google.maps.Marker({position:e.latLng,map:window.map,draggable:!0}),n.placeMarkerAndPanTo(e.latLng,X,window.map)})},n.placeMarkerAndPanTo=function(e,t,a){t.addListener("dragend",function(e){var a={lat:t.getPosition().lat(),lng:t.getPosition().lng()};n.setState({selected_loc:a})}),a.panTo(e);var o={lat:t.getPosition().lat(),lng:t.getPosition().lng()};n.setState({selected_loc:o})},n.clearMarker=function(){X.setMap(null)},n.set_map_center=function(){window.map.setCenter(n.state.user_loc)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){w(this.set_position)}},{key:"render",value:function(){return o.a.createElement("div",{style:m},o.a.createElement("div",{style:y,id:"map"}),o.a.createElement(z,{action:this.set_map_center}))}}]),t}(a.Component),V="/",Y="/login",Z="/map",$="/submit",ee=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100vw"}},o.a.createElement("div",{style:{width:"100%",height:"70px",display:"flex",alignItems:"center",position:"absolute",backgroundColor:"#333",zIndex:999}},o.a.createElement("span",{style:{color:"#fff"}},"React Map")),this.props.children)}}]),t}(a.Component),te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(ee,null,o.a.createElement(f.a,{path:V,exact:!0,component:function(){return o.a.createElement(H,null)}}),o.a.createElement(f.a,{path:Y,component:function(){return o.a.createElement(q,null)}}),o.a.createElement(f.a,{path:Z,component:function(){return o.a.createElement(Q,null)}}),o.a.createElement(f.a,{path:$,component:function(){return o.a.createElement(K,null)}}))}}]),t}(a.Component),ne=[{src:"https://rawcdn.githack.com/adhemukhlis/react-map-sample/d8844001ba8859fe6eca5871575da561ead82536/src/js/exclude.min.js",load:"defer"},{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC0JIPziL_7WFQvgyYCD6DUIcX0xx8nSGk",load:"async"}],ae=function(e,t){var n=document.createElement("script");n.src=e,n.async="async"===t,n.defer="defer"===t,document.body.appendChild(n)},oe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){ne.map(function(e){return ae(e.src,e.load)})}},{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(te,null))}}]),t}(a.Component),re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(oe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");re?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ie(t,e)})}}()},73:function(e,t,n){e.exports=n.p+"static/media/marker.c2ee942c.svg"},74:function(e,t,n){e.exports=n.p+"static/media/center.c9f91b6a.svg"},78:function(e,t,n){e.exports=n(164)},83:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.8fca514e.chunk.js.map